"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8636],{45345:function(e,t,n){n.d(t,{H:function(){return V}});var i=n(14924),r=n(26042),s=n(69396),o=n(29815),l=n(85893),a=n(68779),u=n(73582),c=n(85945),d=n(11321),f=n(11163),v=n(67294),m=n(51295),x=n(9770),p=n(50632),h=n(11516),g=n(82135),C=n(134),b=n(41435),j=n(62758),y=n(62e3),w=n(99534),L=(0,n(29107).j)("inline-flex items-center rounded-sd-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-sd-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-sd-primary text-sd-primary-foreground hover:bg-sd-primary/80",secondary:"border-transparent bg-sd-secondary text-sd-secondary-foreground hover:bg-sd-secondary/80",outline:"border-sd-border text-sd-foreground",danger:"border-transparent bg-sd-danger text-sd-fixed-white hover:bg-sd-danger/80",warning:"border-transparent bg-sd-warning text-sd-fixed-white hover:bg-sd-warning/80",info:"border-transparent bg-sd-info text-sd-fixed-white hover:bg-sd-info/80",success:"border-transparent bg-sd-success text-sd-fixed-white hover:bg-sd-success/80"}},defaultVariants:{variant:"default"}});function N(e){var t=e.className,n=e.variant,i=(0,w.Z)(e,["className","variant"]);return(0,l.jsx)("div",(0,r.Z)({className:(0,m.yI)(L({variant:n}),t)},i))}var k=n(66440),Z=n(83269),S=n(70341),F=n(50438),T=n(25351),P=n(2730),Q=n(85110),_=n(50300),I=n(71328),q=n(31778),M=function(e){var t=e.slug,n=e.titleSlug,u=e.data,f=e.setParentPopoverOpen,x=e.refetchPanelFavoriteList,p=(0,d.$G)("problemlist").t,j=(0,c.NL)(),y=(0,q.A)().mutateAsync,w=(0,I.T)().mutateAsync,L=(0,v.useState)(!1),N=L[0],k=L[1],Z=(0,_.L)(t),S=function(e){F.P[e?"problemlistProblemsTableMoreTopClick":"problemlistProblemsTableMoreBottomClick"]({problemlist_list_slug:t}),y((0,i.Z)({favoriteSlug:t,questionSlug:n},e?"moveToTop":"moveToBottom",!0)).then((function(t){var i;if((null===t||void 0===t||null===(i=t.reorderFavoriteQuestionV2)||void 0===i?void 0:i.ok)&&u){f(!1);var l=(0,o.Z)(u);l.map((function(t,i){t.titleSlug===n&&l[e?"unshift":"push"](l.splice(i,1)[0])})),j.setQueryData(Z,(function(e){return(0,s.Z)((0,r.Z)({},e),{favoriteQuestionList:(0,s.Z)((0,r.Z)({},e.favoriteQuestionList),{questions:l})})}))}}))};return(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{className:"text-sd-popover-foreground hover:bg-sd-accent flex h-8 cursor-pointer gap-2 rounded px-2 py-1.5 font-medium",onClick:function(){F.P.problemlistProblemsTableMoreRemoveClick({problemlist_list_slug:t}),w({favoriteSlug:t,questionSlug:n}).then((function(e){var i;if((null===e||void 0===e||null===(i=e.removeQuestionFromFavoriteV2)||void 0===i?void 0:i.ok)&&u){var l=(0,o.Z)(u);l.map((function(e,t){e.titleSlug===n&&l.splice(t,1)})),j.setQueryData(["favoriteQuestionList",{favoriteSlug:t}],(function(e){return(0,s.Z)((0,r.Z)({},e),{favoriteQuestionList:(0,s.Z)((0,r.Z)({},e.favoriteQuestionList),{questions:l})})})),j.setQueryData(["favoriteDetailV2",{favoriteSlug:t}],(function(e){return(0,s.Z)((0,r.Z)({},e),{favoriteDetailV2:(0,s.Z)((0,r.Z)({},e.favoriteDetailV2),{questionNumber:l.length})})})),j.invalidateQueries(["favoriteUserQuestionProgressV2",{favoriteSlug:t}])}}))},children:[(0,l.jsx)(C.e,{icon:a.Vui,variant:"16px"}),p("removeFromList")]}),(0,l.jsx)(b.J2,{side:"left",align:"start",trigger:"click",open:N,onOpenChange:k,onOpenAutoFocus:function(e){return e.preventDefault()},className:(0,m.yI)("top-[-36px] w-[240px] rounded-lg p-0",h.nx.bgLayer02,h.nx.borderBorderTertiary),content:(0,l.jsx)(g.T,{questionSlug:n,hiddenMore:!0,hiddenSlugs:[t],onAfterAddedChange:function(){x&&x(),f(!1)}}),children:(0,l.jsxs)("li",{className:"text-sd-popover-foreground hover:bg-sd-accent flex h-8 cursor-pointer gap-2 rounded px-2 py-1.5 font-medium",onClick:function(){F.P.problemlistProblemsTableMoreAddClick({problemlist_list_slug:t})},children:[(0,l.jsx)(C.e,{icon:a.Tab,variant:"16px"}),p("addToList")]})}),(0,l.jsxs)("li",{className:"text-sd-popover-foreground hover:bg-sd-accent flex h-8 cursor-pointer gap-2 rounded px-2 py-1.5 font-medium",onClick:function(){return S(!0)},children:[(0,l.jsx)(C.e,{icon:a.bqB,variant:"16px"}),p("moveToTop")]}),(0,l.jsxs)("li",{className:"text-sd-popover-foreground hover:bg-sd-accent flex h-8 cursor-pointer gap-2 rounded px-2 py-1.5 font-medium",onClick:function(){return S(!1)},children:[(0,l.jsx)(C.e,{icon:a.ST1,variant:"16px"}),p("moveToBottom")]})]})})},V=function(e){var t,n,o,w=e.data,L=e.slug,_=e.showTags,I=e.isOddRow,q=e.className,V=e.provided,A=e.canEdit,H=e.viewOnly,E=e.isProblemList,D=void 0===E||E,O=e.favoriteQuestionList,R=e.onDrawerClose,B=(0,d.$G)("problemlist").t,G=(0,c.NL)(),z=(0,f.useRouter)(),J=(0,Q.v)(!0).refetch,W=(0,x.tq)()?2:4,$=w.status,U=w.title,X=w.difficulty,K=w.titleSlug,Y=w.topicTags,ee=w.translatedTitle,te=w.questionFrontendId,ne=w.id,ie=w.isInMyFavorites,re=(0,P.m)().mutateAsync,se=(0,p.U5)().data,oe=(null!==(n=null===se||void 0===se?void 0:se.userStatus)&&void 0!==n?n:{}).isSignedIn,le=null===se||void 0===se||null===(t=se.userStatus)||void 0===t?void 0:t.useTranslation,ae=(0,v.useState)(!1),ue=ae[0],ce=ae[1],de=(0,v.useState)(!1),fe=de[0],ve=de[1],me=(0,v.useMemo)((function(){return Y.slice(W).map((function(e){return le&&e.nameTranslated||e.name})).join(",")}),[Y,le,W]),xe=(0,v.useMemo)((function(){var e=le&&ee||U;return e="".concat(te,". ").concat(e)}),[le,te,U,ee]),pe=(o={},(0,i.Z)(o,T.s.TO_DO,"todo"),(0,i.Z)(o,T.s.ATTEMPTED,"attempted"),(0,i.Z)(o,T.s.SOLVED,"solved"),(0,i.Z)(o,T.s.PAST_SOLVED,"past_solve"),o),he=Y.length>W,ge=new URLSearchParams({envType:Z.Zw.ProblemListV2,envId:L||""});(0,x.Nd)()&&ge.append("id",L||"");var Ce=D?ge.toString():z.asPath.split("?")[1]||"";return(0,l.jsxs)("div",{className:(0,m.yI)("group flex flex-col rounded-[8px] duration-300",h.rG.bgFillPrimary,q,(0,i.Z)({},h.nx.bgFillQuaternary,H&&!I)),id:ne,children:[(0,l.jsxs)("div",{className:(0,m.yI)("flex h-[52px] w-full items-center space-x-3 px-4"),children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:A?"group-hover:hidden":"",children:[$===T.s.TO_DO&&(0,l.jsx)("div",{className:"h-4 w-4"}),(0,l.jsx)(j.u,{placement:"top",label:B(pe[$]),children:(0,l.jsxs)("div",{className:"flex items-center",children:[$===T.s.ATTEMPTED&&(0,l.jsx)(C.e,{icon:a.diR,variant:"14px",className:"text-sd-muted-foreground"}),$===T.s.SOLVED&&(0,l.jsx)(C.e,{icon:a.LEp,variant:"14px",className:"text-sd-success"})]})})]}),(0,l.jsx)("div",{className:A?"hidden h-4 w-4 group-hover:flex":"",children:(0,l.jsx)("div",(0,s.Z)((0,r.Z)({className:(0,m.yI)("cursor-grab",{hidden:!A})},null===V||void 0===V?void 0:V.dragHandleProps),{children:(0,l.jsx)(j.u,{placement:"top",label:B("move"),children:(0,l.jsx)("div",{children:(0,l.jsx)(C.e,{icon:a.xiG,className:"text-sd-muted-foreground",variant:"14px"})})})}))})]}),D?(0,l.jsxs)("a",{className:(0,m.yI)("relative flex h-full w-full items-center"),href:S.Hb.questionDetailWithLearningEnvironment(K||"",Ce),target:H?"_self":"_blank",rel:H?document.referrer:"noreferrer",children:[(0,l.jsx)("div",{className:" flex w-0 flex-1 items-center space-x-2",children:(0,l.jsx)("div",{className:(0,m.yI)("text-body max-w-[75%] font-medium"),children:(0,l.jsx)(y.J,{title:xe,children:xe})})}),(0,l.jsx)("p",{className:(0,m.yI)("text-[14px]",{"text-sd-easy":X===k.F.Easy,"text-sd-medium":X===k.F.Medium,"text-sd-hard":X===k.F.Hard}),children:B("difficulty.".concat(X.toLocaleLowerCase()))})]}):(0,l.jsxs)("div",{className:(0,m.yI)("relative flex h-full w-full cursor-pointer items-center"),onClick:function(){R&&R(),z.push(S.Hb.questionDetailWithLearningEnvironment(K,Ce))},children:[(0,l.jsx)("div",{className:" flex w-0 flex-1 items-center space-x-2",children:(0,l.jsx)("div",{className:(0,m.yI)("text-body max-w-[75%] font-medium"),children:(0,l.jsx)(y.J,{title:xe,children:xe})})}),(0,l.jsx)("p",{className:(0,m.yI)("text-[14px]",{"text-sd-easy":X===k.F.Easy,"text-sd-medium":X===k.F.Medium,"text-sd-hard":X===k.F.Hard}),children:B("difficulty.".concat(X.toLocaleLowerCase()))})]}),(0,l.jsx)("div",{className:"flex items-center",children:!H&&(A?(0,l.jsx)(b.J2,{side:"bottom",align:"end",trigger:"click",open:fe,onOpenChange:ve,onOpenAutoFocus:function(e){return e.preventDefault()},className:(0,m.yI)("w-[240px] rounded-lg px-1 py-[3px]",h.nx.bgLayer02,h.nx.borderBorderTertiary),content:(0,l.jsx)(M,{slug:L,titleSlug:K,data:O,setParentPopoverOpen:ve,refetchPanelFavoriteList:J}),children:(0,l.jsx)("div",{className:"hover:bg-sd-accent flex h-7 w-7 cursor-pointer items-center justify-center rounded opacity-0 group-hover:opacity-100",onClick:function(){F.P.problemlistProblemsTableMoreClick({problemlist_list_slug:L})},children:(0,l.jsx)(C.e,{icon:a.S6C,className:"text-sd-muted-foreground",variant:"14px"})})}):(0,l.jsx)(b.J2,{side:"bottom",align:"end",trigger:"click",open:fe,onOpenChange:ve,onOpenAutoFocus:function(e){return e.preventDefault()},className:(0,m.yI)("w-[240px] rounded-lg p-0",h.nx.bgLayer02,h.nx.borderBorderTertiary),content:(0,l.jsx)(g.T,{questionSlug:K,hiddenMore:!0,hiddenSlugs:[L],onListChange:function(e,t){var n=e.filter((function(e){return e.hasCurrentQuestion}));G.setQueryData(["favoriteQuestionList",{favoriteSlug:L}],(function(e){return(0,s.Z)((0,r.Z)({},e),{favoriteQuestionList:(0,s.Z)((0,r.Z)({},e.favoriteQuestionList),{questions:e.favoriteQuestionList.questions.map((function(e){return(0,s.Z)((0,r.Z)({},e),{isInMyFavorites:e.titleSlug===t?n.length>0:e.isInMyFavorites})}))})})}))},onAfterAddedChange:function(){J(),ve(!1)},canFetch:ue}),children:(0,l.jsx)("div",{className:"hover:bg-sd-accent flex h-7 w-7 cursor-pointer items-center justify-center rounded opacity-0 group-hover:opacity-100",onClick:function(){return function(e,t){!1!==oe?(F.P.problemlistProblemsTableSaveClick({problemlist_list_operation_type:t?"other":"saved",problemlist_list_slug:L}),t?ce(!0):re({questionSlug:e}).then((function(t){var n;(null===(n=t.addQuestionToDefaultFavoriteV2)||void 0===n?void 0:n.ok)&&(ce(!0),G.setQueryData(["favoriteQuestionList",{favoriteSlug:L}],(function(t){return(0,s.Z)((0,r.Z)({},t),{favoriteQuestionList:(0,s.Z)((0,r.Z)({},t.favoriteQuestionList),{questions:t.favoriteQuestionList.questions.map((function(t){return(0,s.Z)((0,r.Z)({},t),{isInMyFavorites:t.titleSlug===e||t.isInMyFavorites})}))})})})))}))):z.push(S.Hb.signIn())}(K,!!ie)},children:ie?(0,l.jsx)(C.e,{icon:u.Tab,className:"text-sd-yellow-500",variant:"14px"}):(0,l.jsx)(C.e,{icon:a.Tab,className:"text-sd-muted-foreground",variant:"14px"})})}))})]}),_&&(0,l.jsxs)("div",{className:"-mt-2 mb-4 ml-11 space-x-1",children:[w.topicTags.slice(0,W).map((function(e){return(0,l.jsx)(N,{className:"rounded-full",variant:"secondary",children:le&&e.nameTranslated||e.name},e.slug)})),he&&(0,l.jsx)(j.u,{placement:"top",label:me,children:(0,l.jsx)("span",{children:(0,l.jsxs)(N,{className:"rounded-full",variant:"secondary",children:[w.topicTags.length-W,"+"]})})})]})]})}},2730:function(e,t,n){n.d(t,{m:function(){return s}});var i=n(65854),r=n(88525),s=function(){return(0,r.tYF)(i.f6)}},85110:function(e,t,n){n.d(t,{v:function(){return s}});var i=n(88525),r=n(65854),s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,i.nS7)(r.f6,{},{select:function(e){return{myCreatedFavoriteList:e.myCreatedFavoriteList.favorites,myCollectedFavoriteList:e.myCollectedFavoriteList.favorites}},enabled:e})}},50300:function(e,t,n){n.d(t,{L:function(){return o},U:function(){return s}});var i=n(65854),r=n(88525),s=function(e){return(0,r.LyX)(i.f6,{favoriteSlug:e},{cacheTime:0,select:function(e){return e.favoriteQuestionList.questions.map((function(e){var t;return{difficulty:e.difficulty,id:e.id,paidOnly:e.paidOnly,questionFrontendId:e.questionFrontendId||"",status:e.status,title:e.title,titleSlug:e.titleSlug,translatedTitle:e.translatedTitle||"",isInMyFavorites:e.isInMyFavorites,topicTags:(null===(t=e.topicTags)||void 0===t?void 0:t.map((function(e){return{name:e.name||"",nameTranslated:"",slug:e.slug||""}})))||[]}}))||[]}})},o=function(e){return r.LyX.getKey({favoriteSlug:e})}},45310:function(e,t,n){n.d(t,{q:function(){return s}});var i=n(65854),r=n(88525),s=function(e){return(0,r.lfN)(i.f6,{favoriteSlug:e},{select:function(e){return e.hasAccessToFavorite}})}},71328:function(e,t,n){n.d(t,{T:function(){return s}});var i=n(65854),r=n(88525),s=function(){return(0,r.E9F)(i.f6)}},31778:function(e,t,n){n.d(t,{A:function(){return s}});var i=n(65854),r=n(88525),s=function(){return(0,r.MZF)(i.f6)}},82135:function(e,t,n){n.d(t,{T:function(){return M},k:function(){return I}});var i=n(47568),r=n(70655),s=n(85893),o=n(67294),l=n(68779),a=n(11321),u=n(85945),c=n(51295),d=n(70341),f=n(80978),v=n(65854),m=n(88525),x=function(){return(0,m.YKf)(v.f6)},p=n(71328),h=n(58420),g=n(30366),C=n(134),b=n(62758),j=n(83210),y=n(93475),w=n(5797),L=n(53923),N=n(15371),k=n(50438),Z=n(14924),S=n(46922),F=n(67331),T=n(84945),P=n(25082),Q=function(){return(0,m.C9Q)(v.f6)},_=function(e){var t,n=e.questionSlug,v=e.refreshList,m=e.fromPage,x=(0,a.$G)("description").t,p=(0,o.useState)(!1),b=p[0],y=p[1],w=(0,o.useRef)(null),L=(0,o.useState)(!1),_=L[0],q=L[1],M=(0,o.useState)(""),V=M[0],A=M[1],H=(0,o.useState)(!1),E=H[0],D=H[1],O=Q().mutateAsync,R=(0,h.pm)().toast,B=(0,o.useContext)(I),G=B.triggerListChange,z=B.onAfterAddedChange,J=(0,o.useCallback)((function(e){A(e.target.value.trim())}),[A]),W=(0,o.useCallback)((function(){y(!0)}),[y]),$=(0,o.useCallback)((function(){y(!1)}),[y]),U=(0,o.useCallback)((function(e){q(e)}),[q]),X=(0,u.NL)(),K=(0,o.useCallback)((0,i.Z)((function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return!V||E?[2]:(D(!0),k.P.problemlistSavePopupCreateClick({problemlist_page:null!==m&&void 0!==m?m:"list",problemlist_private:JSON.stringify(_),problemlist_question_slug:n}),[4,O({questionSlug:n,name:V,isPublicFavorite:!_},{onSettled:function(e){var t,i,r,o,l;(null===e||void 0===e||null===(t=e.addQuestionToNewFavoriteV2)||void 0===t?void 0:t.ok)?((0,f.w)({queryClient:X,name:V,currentQuestionSlug:n,isPublicFavorite:!_,id:(null===e||void 0===e||null===(r=e.addQuestionToNewFavoriteV2)||void 0===r?void 0:r.slug)||""}),v(),R({variant:"success",description:(0,s.jsxs)("div",{children:[x("addProblemToListSuccess")," ",(0,s.jsx)("a",{className:"text-blue",target:"_blank",href:d.Hb.problemList(null!==(l=null===e||void 0===e||null===(o=e.addQuestionToNewFavoriteV2)||void 0===o?void 0:o.slug)&&void 0!==l?l:""),rel:"noreferrer",children:V})]}),className:"last:mt-[48px]",duration:2e3}),y(!1),q(!1),A(""),w.current&&(w.current.value=""),G(),z&&z(),D(!1)):(null===e||void 0===e||null===(i=e.addQuestionToNewFavoriteV2)||void 0===i?void 0:i.error)&&T.y.error(e.addQuestionToNewFavoriteV2.error)},onError:function(){D(!1)}})]);case 1:return e.sent(),[2]}}))})),[V,E,m,_,n,O,X,v,R,x,G,z]);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:(0,c.yI)("text-md text-sd-muted-foreground hover:bg-sd-accent hover:text-sd-foreground w-full cursor-pointer items-center space-x-2 rounded p-2",{flex:!b}),onClick:W,children:[(0,s.jsx)("div",{className:(0,c.yI)("text-base",N.Cj.labelGrey7),children:(0,s.jsx)(F.S,{})}),(0,s.jsx)("div",{children:x("createNewList")})]}),(0,s.jsxs)("div",{className:(0,c.yI)("bg-sd-popover absolute left-0 top-0 flex h-full w-full flex-col justify-between rounded-lg p-3",{hidden:!b,flex:b}),children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("a",{className:"mb-4 flex cursor-pointer items-center gap-2",onClick:$,children:[(0,s.jsx)(C.e,{icon:l.A35}),(0,s.jsx)("span",{className:"text-sm font-bold",children:x("createNewList")})]}),(0,s.jsx)("div",{children:(0,s.jsx)(P.I,{ref:w,placeholder:x("nameListPlaceholder"),onChange:J,className:(0,c.yI)("h-8",S.UG),maxLength:30})}),(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,s.jsx)(g.X,{checked:_,onCheckedChange:U}),(0,s.jsx)("span",{className:"cursor-pointer text-sm",onClick:function(){return U(!_)},children:x("setAsPrivate")})]})]}),(0,s.jsx)("div",{className:"mt-4 flex space-x-2.5",children:(0,s.jsx)(j.z,{className:(0,c.yI)("text-md flex !h-8 flex-1 items-center justify-center rounded-lg  px-2.5 ",(t={},(0,Z.Z)(t,"cursor-pointer",V),(0,Z.Z)(t,"cursor-not-allowed opacity-50",!V),t)),onClick:K,isLoading:E,children:x("create")})})]})]})},I=(0,o.createContext)({triggerListChange:function(){},onAfterAddedChange:function(){}}),q=function(e){var t=e.favorite,n=e.questionSlug,v=e.fromPage,m=(0,a.$G)("description").t,b=Boolean(t.hasCurrentQuestion),j=x().mutateAsync,y=(0,p.T)().mutateAsync,L=(0,u.NL)(),Z=(0,h.pm)().toast,S=(0,o.useContext)(I).triggerListChange,F=(0,o.useCallback)(function(){var e=(0,i.Z)((function(e,t,i){return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return k.P.problemlistSaveSelectionClick({problemlist_page:null!==v&&void 0!==v?v:"list",problemlist_question_slug:n,problemlist_collection_type:i?"add":"remove",problemlist_list_slug:e}),i?[4,j({favoriteSlug:e,questionSlug:n},{onError:function(){return(0,f.w)({queryClient:L,id:e,currentQuestionSlug:n})},onSuccess:function(){(0,f.w)({queryClient:L,id:e,currentQuestionSlug:n}),Z({variant:"success",description:(0,s.jsxs)("div",{children:[m("addProblemToListSuccess")," ",(0,s.jsx)("a",{className:"text-blue",target:"_blank",href:d.Hb.problemList(e),rel:"noreferrer",children:t})]}),className:"last:mt-[48px]",duration:2e3})}})]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,y({favoriteSlug:e,questionSlug:n},{onError:function(){return(0,f.w)({queryClient:L,id:e,currentQuestionSlug:n})},onSuccess:function(){(0,f.w)({queryClient:L,id:e,currentQuestionSlug:n}),Z({variant:"success",description:m("removeProblemFromListSuccess",{listItemName:t}),className:"last:mt-[48px]",duration:2e3})}})];case 3:r.sent(),r.label=4;case 4:return S(),[2]}}))}));return function(t,n,i){return e.apply(this,arguments)}}(),[v,n,S,j,L,Z,m,y]);return(0,s.jsxs)("div",{className:(0,c.yI)("hover:bg-sd-accent flex w-full cursor-pointer items-center justify-between rounded-lg px-2 py-[5px]",N.Cj.label1),onClick:function(){return F(t.slug||"",t.name,!b)},children:[(0,s.jsxs)("div",{className:(0,c.yI)("text-md flex w-full max-w-[192px] flex-1 items-center space-x-2 truncate"),children:[(0,s.jsx)(g.X,{checked:b}),(0,s.jsx)(w.J,{title:t.name,children:(0,s.jsx)("span",{children:t.name})})]}),(0,s.jsx)(C.e,{icon:t.isPublicFavorite?l.g4A:l.byT,className:"text-sd-muted-foreground"})]})},M=function(e){var t=e.questionSlug,n=e.hiddenMore,i=e.hiddenSlugs,r=e.fromPage,u=void 0===r?"list":r,v=e.onListChange,m=e.canFetch,x=void 0===m||m,p=e.onAfterAddedChange,h=(0,a.$G)("description").t,g=(0,f.f)(t,{enabled:!1}),w=g.data,Z=g.isInitialLoading,S=g.refetch;(0,o.useEffect)((function(){x&&S()}),[x,S]);var F=(0,o.useMemo)((function(){var e=w||[];return i&&0!==i.length?e.filter((function(e){return!i.includes(e.slug)})):e}),[w,i]),T=(0,o.useCallback)((function(){v&&v(F,t)}),[F,v,t]);return(0,o.useEffect)((function(){k.P.problemlistSavePopupExposure({problemlist_page:u,problemlist_question_slug:t})}),[u,t]),!x||Z?(0,s.jsx)("div",{className:"flex h-[200px] items-center justify-center",children:(0,s.jsx)(y.g,{className:"h-10 w-10"})}):(0,s.jsx)(I.Provider,{value:{triggerListChange:T,onAfterAddedChange:p},children:(0,s.jsxs)("div",{className:"h-[200px]",children:[(0,s.jsxs)("header",{className:"flex h-10 w-full items-center justify-between py-1 pl-3 pr-1",children:[(0,s.jsx)("h2",{className:(0,c.yI)("text-center text-sm font-bold",N.Cj.label1),children:h("myLists")}),!n&&(0,s.jsx)("a",{href:d.Hb.problemList()+"?open=true",rel:"noopener noreferrer",target:"_blank",onClick:function(){return k.P.problemlistSavePopupViewAllClick({problemlist_page:u})},children:(0,s.jsx)(b.u,{label:h("viewAllLists"),placement:"top",children:(0,s.jsx)(j.z,{onlyIcon:!0,className:"h-8 w-8",variant:"ghost",children:(0,s.jsx)(C.e,{icon:l.eFW})})})})]}),(0,s.jsx)("div",{className:(0,c.yI)("flex max-h-[calc(100vh-150px)] min-h-[112px]  w-full flex-col"),children:(0,s.jsxs)("div",{className:"flex max-h-[112px] flex-col overflow-y-auto px-1",children:[F.map((function(e){return(0,s.jsx)("div",{children:(0,s.jsx)(q,{favorite:e,questionSlug:t,fromPage:u})},e.slug)})),0===F.length&&(0,s.jsx)("div",{className:"flex h-[112px] w-full items-center justify-center",children:(0,s.jsx)(L.D,{className:"w-[80px]"})})]})}),(0,s.jsx)("div",{className:"border-sd-border border-t-[1px] p-1",children:(0,s.jsx)(_,{questionSlug:t,refreshList:S,fromPage:u})})]})})}},80978:function(e,t,n){n.d(t,{f:function(){return u},w:function(){return a}});var i=n(26042),r=n(69396),s=n(29815),o=n(88525),l=n(65854),a=function(e){var t,n=e.queryClient,l=e.id,a=void 0===l?"":l,u=e.name,c=void 0===u?"":u,d=e.currentQuestionSlug,f=e.isPublicFavorite,v=void 0===f||f,m=o.vvI.getKey({currentQuestionSlug:d}),x=n.getQueryData(m);(null===x||void 0===x||null===(t=x.myCreatedFavoriteList)||void 0===t?void 0:t.favorites)&&(x.myCreatedFavoriteList.favorites.find((function(e){return e&&(e.slug===a||e.name===c)}))?x.myCreatedFavoriteList.favorites=(0,s.Z)(x.myCreatedFavoriteList.favorites.map((function(e){return(null===e||void 0===e?void 0:e.slug)===a&&(e.hasCurrentQuestion=!e.hasCurrentQuestion),e}))):x.myCreatedFavoriteList.favorites.push({slug:a,name:c,isPublicFavorite:v,hasCurrentQuestion:!0}),n.setQueryData(m,(0,r.Z)((0,i.Z)({},x),{myCreatedFavoriteList:(0,r.Z)((0,i.Z)({},x.myCreatedFavoriteList),{favorites:x.myCreatedFavoriteList.favorites})})))},u=function(e,t){var n=t.enabled;return(0,o.vvI)(l.f6,{currentQuestionSlug:e},{enabled:n,select:function(e){var t;return null===(t=e.myCreatedFavoriteList)||void 0===t?void 0:t.favorites}})}},67784:function(e,t,n){n.d(t,{c:function(){return q}});var i=n(85893),r=n(23254),s=n(51295),o=n(11516),l=(n(79361),n(84004)),a=n(14924),u=n(7297),c=n(67294),d=n(54340),f=n(56620),v=n(26042),m=n(69396),x=c.forwardRef((function(e,t){return(0,i.jsxs)("svg",(0,m.Z)((0,v.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_2330_137555)",children:[(0,i.jsx)("path",{d:"M0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M16.6667 15.3332L17.2 11.9998H14V9.6665C14 8.73317 14.3333 7.99984 15.8 7.99984H17.3333V4.93317C16.4667 4.79984 15.5333 4.6665 14.6667 4.6665C11.9333 4.6665 10 6.33317 10 9.33317V11.9998H7V15.3332H10V23.7998C10.6667 23.9332 11.3333 23.9998 12 23.9998C12.6667 23.9998 13.3333 23.9332 14 23.7998V15.3332H16.6667Z",fill:"white"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_2330_137555",children:(0,i.jsx)("path",{d:"M0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12Z",fill:"white"})})})]}))})),p=c.forwardRef((function(e,t){return(0,i.jsx)("svg",(0,m.Z)((0,v.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{children:(0,i.jsx)("path",{d:"M10.6452 1.3125H12.5749L8.35912 6.13083L13.3186 12.6875H9.43538L6.39388 8.71092L2.91371 12.6875H0.982875L5.49204 7.53375L0.734375 1.3125H4.71621L7.46546 4.94725L10.6452 1.3125ZM9.96796 11.5325H11.0372L4.13521 2.40683H2.98779L9.96796 11.5325Z"})}))})),h=c.forwardRef((function(e,t){return(0,i.jsxs)("svg",(0,m.Z)((0,v.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{children:[(0,i.jsx)("path",{d:"M0 12C0 5.37258 5.37258 0 12 0V0C18.6274 0 24 5.37258 24 12V12C24 18.6274 18.6274 24 12 24V24C5.37258 24 0 18.6274 0 12V12Z",fill:"#2D64BC"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.29427 18.5084H5.47283V9.42902H8.29427V18.5084ZM6.86631 8.31496C5.97543 8.31496 5.39844 7.68172 5.39844 6.90242C5.39844 6.10407 5.99176 5.4917 6.9026 5.4917C7.81345 5.4917 8.37048 6.10407 8.38772 6.90242C8.38953 7.68353 7.81254 8.31496 6.86631 8.31496ZM18.5984 18.5084H15.7779V13.4761C15.7779 12.3058 15.3687 11.5093 14.3481 11.5093C13.5688 11.5093 13.1052 12.0482 12.8993 12.5671C12.8249 12.7512 12.8068 13.0125 12.8068 13.2711V18.5066H9.98351V12.323C9.98351 11.1908 9.94722 10.2428 9.90912 9.4272H12.3595L12.4901 10.6882H12.5455C12.9174 10.0949 13.8274 9.22217 15.3497 9.22217C17.2059 9.22217 18.5984 10.4651 18.5984 13.1386V18.5084Z",fill:"white"})]}))})),g=c.forwardRef((function(e,t){return(0,i.jsxs)("svg",(0,m.Z)((0,v.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{children:[(0,i.jsx)("path",{d:"M11.6975 3.0119C13.0388 2.72688 14.4919 3.14313 15.477 4.23532C16.4625 5.32631 16.7282 6.8138 16.3077 8.1186L16.3075 8.121C16.2096 8.42237 15.886 8.58747 15.5845 8.48998C15.4394 8.44332 15.3189 8.34084 15.2495 8.20515C15.18 8.06947 15.1675 7.91174 15.2145 7.76677C15.5255 6.80693 15.3005 5.75388 14.6246 5.0048C13.9237 4.22934 12.8912 3.93256 11.937 4.1352C11.7363 4.17806 11.5281 4.11061 11.3906 3.95827C11.2532 3.80592 11.2074 3.59182 11.2706 3.39662C11.3338 3.20141 11.4968 3.05476 11.6975 3.0119Z",fill:"#F56467"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.01888 10.8603C5.53206 9.81894 6.86777 9.22997 8.04951 9.53752C9.27234 9.85365 9.89641 11.0073 9.39639 12.1278C8.88959 13.2742 7.43202 13.8851 6.19523 13.4864C5.00172 13.1009 4.49612 11.9221 5.01888 10.8603ZM7.509 11.392C7.65939 11.454 7.85126 11.3826 7.93822 11.2338C8.02119 11.0844 7.96734 10.9163 7.81735 10.8615C7.66996 10.803 7.48527 10.8738 7.39871 11.019C7.31454 11.165 7.36101 11.331 7.509 11.392ZM6.00495 12.6238C6.39248 12.8007 6.90687 12.6328 7.147 12.2496C7.38315 11.8625 7.25869 11.4203 6.86977 11.2544C6.48523 11.0932 5.9882 11.2592 5.75106 11.6311C5.51052 12.0047 5.62321 12.4501 6.00495 12.6238Z",fill:"#F56467"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5226 8.39072C12.4121 8.66815 12.5569 8.71143 12.7681 8.77446C13.6285 9.04132 14.5861 9.68654 14.5861 10.8236C14.5861 12.7052 11.8724 15.0755 7.79303 15.0755C4.68102 15.0755 1.5 13.5674 1.5 11.0869C1.5 9.79005 2.32153 8.29039 3.73643 6.8753C5.62601 4.98651 7.82933 4.12609 8.65764 4.9552C9.02323 5.32039 9.05874 5.95284 8.82378 6.70816C8.70769 7.06872 9.13254 6.89803 9.17706 6.88014C9.17948 6.87917 9.1808 6.87869 9.1808 6.87869C10.708 6.23905 12.0403 6.20176 12.5272 6.89724C12.7868 7.26821 12.7621 7.78798 12.5226 8.39072ZM3.01302 11.6788C3.17458 13.3093 5.31806 14.4314 7.80121 14.1865C10.2846 13.9408 12.1668 12.4202 12.0058 10.7895C11.8446 9.15979 9.70096 8.03729 7.21762 8.28301C4.73487 8.52854 2.85187 10.0487 3.01302 11.6788Z",fill:"#F56467"}),(0,i.jsx)("path",{d:"M13.964 5.6006C13.4845 5.06866 12.7767 4.86662 12.1231 5.00564C11.946 5.03803 11.8006 5.16413 11.7434 5.33481C11.6862 5.5055 11.7263 5.69377 11.8482 5.82629C11.97 5.95881 12.1542 6.01462 12.3291 5.97197C12.6596 5.9013 13.0027 6.01234 13.2296 6.26277C13.4562 6.51385 13.5313 6.86687 13.4265 7.18842C13.3425 7.4482 13.4853 7.72691 13.745 7.8111C14.0049 7.8949 14.2836 7.75223 14.3675 7.49238C14.5729 6.85673 14.4445 6.13233 13.964 5.6006Z",fill:"#F56467"})]}))})),C=c.forwardRef((function(e,t){return(0,i.jsx)("svg",(0,m.Z)((0,v.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{children:(0,i.jsx)("path",{d:"M14.2878 10.7073C14.0178 9.84 13.7073 9.11104 13.2298 7.91803C13.304 4.7845 12.0014 2.25 9.00115 2.25C5.96719 2.25 4.6932 4.83512 4.77419 7.91803C4.29497 9.11273 3.98617 9.83663 3.71619 10.7073C3.14247 12.5551 3.32809 13.3195 3.46983 13.3363C3.77356 13.3735 4.6527 11.9459 4.6527 11.9459C4.6527 12.7727 5.07793 13.851 5.99925 14.6289C5.55377 14.7656 4.55314 15.1334 4.79107 15.5367C4.98343 15.8624 8.10176 15.7443 9.00115 15.643C9.90053 15.7443 13.0189 15.8624 13.2112 15.5367C13.4492 15.1351 12.4468 14.7656 12.003 14.6289C12.9244 13.8493 13.3496 12.771 13.3496 11.9459C13.3496 11.9459 14.2287 13.3735 14.5325 13.3363C14.6759 13.3178 14.8615 12.5534 14.2878 10.7073Z",fill:"#12B7F5"})}))}));function b(){var e=(0,u.Z)(["https://www.facebook.com/sharer/sharer.php?u=",""]);return b=function(){return e},e}function j(){var e=(0,u.Z)(["https://twitter.com/intent/tweet?url=","&text=",""]);return j=function(){return e},e}function y(){var e=(0,u.Z)(["https://www.linkedin.com/sharing/share-offsite?url=",""]);return y=function(){return e},e}function w(){var e=(0,u.Z)(["https://service.weibo.com/share/share.php?url=","&title=","&pic=",""]);return w=function(){return e},e}function L(){var e=(0,u.Z)(["http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=","&title=","&summary=","&pics=",""]);return L=function(){return e},e}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.reduce((function(e,t,i){return e+t+encodeURIComponent(n[i]||"")}),"")}var k=function(e){var t=e.children;return(0,i.jsx)("div",{className:(0,s.yI)("flex h-6 w-6 items-center justify-center rounded-full",o.nx.bgFillTertiary,o.rG.bgFillSecondary),children:t})},Z=function(e){var t=e.link,n=e.title,r=e.description,l=e.image,u=e.platform,v=e.onClick,m=(0,c.useMemo)((function(){var e;return e={},(0,a.Z)(e,f.t.Facebook,{icon:(0,i.jsx)(x,{className:"h-6 w-6"}),href:N(b(),t)}),(0,a.Z)(e,f.t.Twitter,{icon:(0,i.jsx)(k,{children:(0,i.jsx)(p,{className:(0,s.yI)("h-3.5 w-3.5",o.nx.labelTextPrimary)})}),href:N(j(),t,n)}),(0,a.Z)(e,f.t.Linkedin,{icon:(0,i.jsx)(h,{className:"h-6 w-6"}),href:N(y(),t)}),(0,a.Z)(e,f.t.Weibo,{icon:(0,i.jsx)(k,{children:(0,i.jsx)(g,{className:"h-4.5 w-4.5"})}),href:N(w(),t,n,l)}),(0,a.Z)(e,f.t.QQ,{icon:(0,i.jsx)(k,{children:(0,i.jsx)(C,{className:"h-4.5 w-4.5"})}),href:N(L(),t,n,r,l)}),e}),[r,t,n,l]);return(0,i.jsx)(d.r,{href:m[u].href,isExternal:!0,noTruncate:!0,onClick:v,children:m[u].icon})},S=n(10253),F=n(11321),T=n(94312),P=n(58420),Q=c.forwardRef((function(e,t){return(0,i.jsx)("svg",(0,m.Z)((0,v.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",width:"1em",height:"1em",stroke:"currentColor",fill:"none",ref:t},e),{children:(0,i.jsx)("path",{d:"M4.3023 5.94444L2.99945 7.24729C2.51287 7.73387 2.23306 8.39593 2.23817 9.09174C2.24329 9.78754 2.51698 10.4536 3.02664 10.9476C3.52054 11.4573 4.18678 11.7309 4.88248 11.736C5.59404 11.7413 6.24044 11.4772 6.72704 10.9906L8.02989 9.68779M9.69404 8.05547L10.9969 6.75263C11.4835 6.26605 11.7633 5.60399 11.7582 4.90818C11.753 4.21237 11.4794 3.54627 10.9697 3.05234C10.4759 2.55856 9.80978 2.28485 9.11397 2.27974C8.41816 2.27463 7.75601 2.53856 7.26941 3.02515L5.96656 4.328M5.02248 8.9408L8.93102 5.03226",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}))})),_=function(e){var t=e.link,n=e.onClick,r=(0,F.$G)("common").t,a=(0,P.pm)().toast,u=(0,S.Z)((0,T.c)(""),2)[1],c=(0,l.z)((function(){u(t),n&&n(),a({variant:"success",description:r("copied"),duration:2e3})}));return(0,i.jsx)("div",{className:(0,s.yI)("text-body flex h-6 w-6 cursor-pointer items-center justify-center rounded-full",o.nx.labelTextSecondary,o.nx.bgFillTertiary,o.rG.bgFillSecondary),onClick:c,children:(0,i.jsx)(Q,{})})},I=function(e){var t,n,r,s,o,a,u,c,d,v,m,x,p,h,g,C,b,j,y,w,L,N,k,S,F=e.link,T=e.title,P=e.image,Q=e.description,I=e.platformOverrides,q=e.onChannelChange,M=(0,l.z)((function(e){q&&q(e)}));return(0,i.jsxs)("div",{className:"flex gap-4 px-4 py-3",children:[(0,i.jsx)(_,{link:F,onClick:function(){return M("link")}}),(0,i.jsx)(Z,{link:null!==(p=null===I||void 0===I||null===(t=I[f.t.Facebook])||void 0===t?void 0:t.link)&&void 0!==p?p:F,title:null!==(h=null===I||void 0===I||null===(n=I[f.t.Facebook])||void 0===n?void 0:n.title)&&void 0!==h?h:T,description:null!==(g=null===I||void 0===I||null===(r=I[f.t.Facebook])||void 0===r?void 0:r.description)&&void 0!==g?g:Q,image:null!==(C=null===I||void 0===I||null===(s=I[f.t.Facebook])||void 0===s?void 0:s.image)&&void 0!==C?C:P,platform:f.t.Facebook,onClick:function(){return M("Facebook")}}),(0,i.jsx)(Z,{link:null!==(b=null===I||void 0===I||null===(o=I[f.t.Linkedin])||void 0===o?void 0:o.link)&&void 0!==b?b:F,title:null!==(j=null===I||void 0===I||null===(a=I[f.t.Linkedin])||void 0===a?void 0:a.title)&&void 0!==j?j:T,description:null!==(y=null===I||void 0===I||null===(u=I[f.t.Linkedin])||void 0===u?void 0:u.description)&&void 0!==y?y:Q,image:null!==(w=null===I||void 0===I||null===(c=I[f.t.Linkedin])||void 0===c?void 0:c.image)&&void 0!==w?w:P,platform:f.t.Linkedin,onClick:function(){return M("Linkedin")}}),(0,i.jsx)(Z,{link:null!==(L=null===I||void 0===I||null===(d=I[f.t.Twitter])||void 0===d?void 0:d.link)&&void 0!==L?L:F,title:null!==(N=null===I||void 0===I||null===(v=I[f.t.Twitter])||void 0===v?void 0:v.title)&&void 0!==N?N:T,description:null!==(k=null===I||void 0===I||null===(m=I[f.t.Twitter])||void 0===m?void 0:m.description)&&void 0!==k?k:Q,image:null!==(S=null===I||void 0===I||null===(x=I[f.t.Twitter])||void 0===x?void 0:x.image)&&void 0!==S?S:P,platform:f.t.Twitter,onClick:function(){return M("x")}})]})},q=function(e){var t=e.link,n=e.title,l=e.description,a=e.image,u=e.platformOverrides,c=e.placement,d=e.useHover,f=e.children,v=e.onChannelChange;return(0,i.jsx)(r.J,{placement:c,mobileEnable:!0,useHover:d,panelClassName:(0,s.yI)("rounded-lg border",o.nx.borderBorderTertiary,o.nx.bgLayer02),contentClassName:"p-0 rounded-lg",arrowSize:0,content:(0,i.jsx)(I,{link:t,title:n,description:l,image:a,platformOverrides:u,onChannelChange:v}),children:f})}},56620:function(e,t,n){var i;n.d(t,{t:function(){return i}}),function(e){e.Facebook="facebook",e.Twitter="twitter",e.Linkedin="linkedin",e.Weibo="weibo",e.QQ="qq"}(i||(i={}))},30366:function(e,t,n){n.d(t,{X:function(){return f}});var i=n(26042),r=n(69396),s=n(99534),o=n(85893),l=n(67294),a=n(46069),u=n(68779),c=n(51295),d=n(134),f=l.forwardRef((function(e,t){var n=e.className,l=(0,s.Z)(e,["className"]);return(0,o.jsx)(a.fC,(0,r.Z)((0,i.Z)({ref:t,className:(0,c.yI)("border-sd-primary focus-visible:ring-sd-ring data-[state=checked]:bg-sd-primary data-[state=checked]:text-sd-primary-foreground rounded-sd-sm peer h-4 w-4 shrink-0 border focus-visible:outline-none focus-visible:ring-1 disabled:cursor-not-allowed disabled:opacity-50",n)},l),{children:(0,o.jsx)(a.z$,{className:(0,c.yI)("flex items-center justify-center text-current"),children:(0,o.jsx)(d.e,{variant:"12px",padding:"none",icon:u.LEp,className:"h-2 w-2 text-[8px]"})})}))}));f.displayName=a.fC.displayName},62e3:function(e,t,n){n.d(t,{J:function(){return l}});var i=n(85893),r=n(67294),s=n(62758),o=n(51295),l=function(e){var t=e.children,n=e.title,l=e.className,a=(0,r.useRef)(null),u=(0,r.useState)(!1),c=u[0],d=u[1],f=(0,r.useCallback)((function(){var e,t,n,i;a.current&&d((null===(e=a.current)||void 0===e?void 0:e.scrollWidth)>(null===(t=a.current)||void 0===t?void 0:t.clientWidth)||(null===(n=a.current)||void 0===n?void 0:n.scrollHeight)>(null===(i=a.current)||void 0===i?void 0:i.clientHeight))}),[]);return(0,r.useEffect)((function(){return f(),window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}}),[f]),(0,i.jsx)(s.u,{isDisabled:!c,label:c&&(n||t),children:(0,i.jsx)("div",{ref:a,className:(0,o.yI)("ellipsis line-clamp-1",l),children:t})})}},54841:function(e,t,n){n.d(t,{O:function(){return l}});var i=n(26042),r=n(99534),s=n(85893),o=n(51295);function l(e){var t=e.className,n=(0,r.Z)(e,["className"]);return(0,s.jsx)("div",(0,i.Z)({className:(0,o.yI)("bg-sd-primary/10 rounded-sd-md animate-pulse",t)},n))}}}]);